2025-04-15 13:36:05,668 - INFO - Received raw input: {'maturity_date': '2026-12-31', 'reference_rate': 'SOFR', 'rate_floor': 0.02, 'rate_ceiling': 0.1, 'rate_spread': 0.02}
2025-04-15 13:36:05,669 - INFO - Validated loan details: maturity_date=datetime.date(2026, 12, 31) reference_rate='SOFR' rate_floor=0.02 rate_ceiling=0.1 rate_spread=0.02
2025-04-15 13:36:05,669 - INFO - Today: 2025-04-15, Maturity date: 2026-12-31
2025-04-15 13:36:05,670 - INFO - Generated monthly dates: ['2025-05-01', '2025-06-01', '2025-07-01', '2025-08-01', '2025-09-01', '2025-10-01', '2025-11-01', '2025-12-01', '2026-01-01', '2026-02-01', '2026-03-01', '2026-04-01', '2026-05-01', '2026-06-01', '2026-07-01', '2026-08-01', '2026-09-01', '2026-10-01', '2026-11-01', '2026-12-01']
2025-04-15 13:36:05,670 - INFO - Fetching rates from 2025-04-01 to 2026-12-31
2025-04-15 13:36:05,670 - INFO - Fetching SOFR rates from 2025-04-01 to 2026-12-31
2025-04-15 13:36:05,670 - INFO - Database path: /Users/aryakkumar/Desktop/KKR/data/rates.db
2025-04-15 13:36:05,671 - INFO - Executing query: SELECT date, rate FROM sofr_rates WHERE date >= ? AND date <= ? with params (2025-04-01, 2026-12-31)
2025-04-15 13:36:05,672 - INFO - Query returned 21 rows
2025-04-15 13:36:05,673 - INFO - Rates dictionary: {'2025-04-14': 0.04320930004119873, '2025-05-14': 0.04306955235332511, '2025-06-14': 0.041714447561282064, '2025-07-14': 0.04069665943470792, '2025-08-14': 0.039907263927771205, '2025-09-14': 0.03835318132535459, '2025-10-14': 0.03763408050147243, '2025-11-14': 0.036872452485452456, '2025-12-14': 0.03587289201933519, '2026-01-14': 0.035431291458526415, '2026-02-14': 0.035090954041039665, '2026-03-14': 0.03454827444296866, '2026-04-14': 0.033806003088985015, '2026-05-14': 0.033805057046396796, '2026-06-14': 0.03380347143677831, '2026-07-14': 0.03380664275516004, '2026-08-14': 0.033805057046396796, '2026-09-14': 0.033803471436775645, '2026-10-14': 0.03358973839233928, '2026-11-14': 0.033556277156407965, '2026-12-14': 0.03356252779684928}
2025-04-15 13:36:05,682 - INFO - df_rates after fill (first 5 rows):
                rate
2025-04-01  0.043209
2025-04-02  0.043209
2025-04-03  0.043209
2025-04-04  0.043209
2025-04-05  0.043209
2025-04-15 13:36:05,682 - INFO - Monthly rates: {'2025-05-01': 0.04320930004119873, '2025-06-01': 0.04306955235332511, '2025-07-01': 0.041714447561282064, '2025-08-01': 0.04069665943470792, '2025-09-01': 0.039907263927771205, '2025-10-01': 0.03835318132535459, '2025-11-01': 0.03763408050147243, '2025-12-01': 0.036872452485452456, '2026-01-01': 0.03587289201933519, '2026-02-01': 0.035431291458526415, '2026-03-01': 0.035090954041039665, '2026-04-01': 0.03454827444296866, '2026-05-01': 0.033806003088985015, '2026-06-01': 0.033805057046396796, '2026-07-01': 0.03380347143677831, '2026-08-01': 0.03380664275516004, '2026-09-01': 0.033805057046396796, '2026-10-01': 0.033803471436775645, '2026-11-01': 0.03358973839233928, '2026-12-01': 0.033556277156407965}
2025-04-15 13:36:05,682 - INFO - Processing date 2025-05-01: SOFR rate = 0.04320930004119873
2025-04-15 13:36:05,682 - INFO - Calculated final rate for 2025-05-01: 0.06320930004119873
2025-04-15 13:36:05,682 - INFO - Processing date 2025-06-01: SOFR rate = 0.04306955235332511
2025-04-15 13:36:05,682 - INFO - Calculated final rate for 2025-06-01: 0.0630695523533251
2025-04-15 13:36:05,682 - INFO - Processing date 2025-07-01: SOFR rate = 0.041714447561282064
2025-04-15 13:36:05,682 - INFO - Calculated final rate for 2025-07-01: 0.06171444756128207
2025-04-15 13:36:05,682 - INFO - Processing date 2025-08-01: SOFR rate = 0.04069665943470792
2025-04-15 13:36:05,682 - INFO - Calculated final rate for 2025-08-01: 0.06069665943470792
2025-04-15 13:36:05,682 - INFO - Processing date 2025-09-01: SOFR rate = 0.039907263927771205
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2025-09-01: 0.05990726392777121
2025-04-15 13:36:05,683 - INFO - Processing date 2025-10-01: SOFR rate = 0.03835318132535459
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2025-10-01: 0.058353181325354594
2025-04-15 13:36:05,683 - INFO - Processing date 2025-11-01: SOFR rate = 0.03763408050147243
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2025-11-01: 0.05763408050147244
2025-04-15 13:36:05,683 - INFO - Processing date 2025-12-01: SOFR rate = 0.036872452485452456
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2025-12-01: 0.05687245248545246
2025-04-15 13:36:05,683 - INFO - Processing date 2026-01-01: SOFR rate = 0.03587289201933519
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-01-01: 0.055872892019335194
2025-04-15 13:36:05,683 - INFO - Processing date 2026-02-01: SOFR rate = 0.035431291458526415
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-02-01: 0.05543129145852642
2025-04-15 13:36:05,683 - INFO - Processing date 2026-03-01: SOFR rate = 0.035090954041039665
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-03-01: 0.05509095404103967
2025-04-15 13:36:05,683 - INFO - Processing date 2026-04-01: SOFR rate = 0.03454827444296866
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-04-01: 0.054548274442968656
2025-04-15 13:36:05,683 - INFO - Processing date 2026-05-01: SOFR rate = 0.033806003088985015
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-05-01: 0.05380600308898502
2025-04-15 13:36:05,683 - INFO - Processing date 2026-06-01: SOFR rate = 0.033805057046396796
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-06-01: 0.05380505704639679
2025-04-15 13:36:05,683 - INFO - Processing date 2026-07-01: SOFR rate = 0.03380347143677831
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-07-01: 0.05380347143677831
2025-04-15 13:36:05,683 - INFO - Processing date 2026-08-01: SOFR rate = 0.03380664275516004
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-08-01: 0.05380664275516005
2025-04-15 13:36:05,683 - INFO - Processing date 2026-09-01: SOFR rate = 0.033805057046396796
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-09-01: 0.05380505704639679
2025-04-15 13:36:05,683 - INFO - Processing date 2026-10-01: SOFR rate = 0.033803471436775645
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-10-01: 0.05380347143677565
2025-04-15 13:36:05,683 - INFO - Processing date 2026-11-01: SOFR rate = 0.03358973839233928
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-11-01: 0.053589738392339284
2025-04-15 13:36:05,683 - INFO - Processing date 2026-12-01: SOFR rate = 0.033556277156407965
2025-04-15 13:36:05,683 - INFO - Calculated final rate for 2026-12-01: 0.05355627715640797
2025-04-15 13:36:05,683 - INFO - Returning result: [{'date': '2025-05-01', 'rate': 0.06320930004119873}, {'date': '2025-06-01', 'rate': 0.0630695523533251}, {'date': '2025-07-01', 'rate': 0.06171444756128207}, {'date': '2025-08-01', 'rate': 0.06069665943470792}, {'date': '2025-09-01', 'rate': 0.05990726392777121}, {'date': '2025-10-01', 'rate': 0.058353181325354594}, {'date': '2025-11-01', 'rate': 0.05763408050147244}, {'date': '2025-12-01', 'rate': 0.05687245248545246}, {'date': '2026-01-01', 'rate': 0.055872892019335194}, {'date': '2026-02-01', 'rate': 0.05543129145852642}, {'date': '2026-03-01', 'rate': 0.05509095404103967}, {'date': '2026-04-01', 'rate': 0.054548274442968656}, {'date': '2026-05-01', 'rate': 0.05380600308898502}, {'date': '2026-06-01', 'rate': 0.05380505704639679}, {'date': '2026-07-01', 'rate': 0.05380347143677831}, {'date': '2026-08-01', 'rate': 0.05380664275516005}, {'date': '2026-09-01', 'rate': 0.05380505704639679}, {'date': '2026-10-01', 'rate': 0.05380347143677565}, {'date': '2026-11-01', 'rate': 0.053589738392339284}, {'date': '2026-12-01', 'rate': 0.05355627715640797}]
2025-04-15 13:36:49,192 - INFO - Received raw input: {'maturity_date': '2026-12-31', 'reference_rate': 'li', 'rate_floor': 0.02, 'rate_ceiling': 0.1, 'rate_spread': 0.02}
2025-04-15 13:36:49,193 - INFO - Validated loan details: maturity_date=datetime.date(2026, 12, 31) reference_rate='li' rate_floor=0.02 rate_ceiling=0.1 rate_spread=0.02
2025-04-15 13:36:49,193 - INFO - Today: 2025-04-15, Maturity date: 2026-12-31
2025-04-15 13:36:49,193 - INFO - Generated monthly dates: ['2025-05-01', '2025-06-01', '2025-07-01', '2025-08-01', '2025-09-01', '2025-10-01', '2025-11-01', '2025-12-01', '2026-01-01', '2026-02-01', '2026-03-01', '2026-04-01', '2026-05-01', '2026-06-01', '2026-07-01', '2026-08-01', '2026-09-01', '2026-10-01', '2026-11-01', '2026-12-01']
2025-04-15 13:36:49,193 - INFO - Fetching rates from 2025-04-01 to 2026-12-31
2025-04-15 13:36:49,194 - INFO - Fetching SOFR rates from 2025-04-01 to 2026-12-31
2025-04-15 13:36:49,194 - INFO - Database path: /Users/aryakkumar/Desktop/KKR/data/rates.db
2025-04-15 13:36:49,194 - INFO - Executing query: SELECT date, rate FROM sofr_rates WHERE date >= ? AND date <= ? with params (2025-04-01, 2026-12-31)
2025-04-15 13:36:49,195 - INFO - Query returned 21 rows
2025-04-15 13:36:49,195 - INFO - Rates dictionary: {'2025-04-14': 0.04320930004119873, '2025-05-14': 0.04306955235332511, '2025-06-14': 0.041714447561282064, '2025-07-14': 0.04069665943470792, '2025-08-14': 0.039907263927771205, '2025-09-14': 0.03835318132535459, '2025-10-14': 0.03763408050147243, '2025-11-14': 0.036872452485452456, '2025-12-14': 0.03587289201933519, '2026-01-14': 0.035431291458526415, '2026-02-14': 0.035090954041039665, '2026-03-14': 0.03454827444296866, '2026-04-14': 0.033806003088985015, '2026-05-14': 0.033805057046396796, '2026-06-14': 0.03380347143677831, '2026-07-14': 0.03380664275516004, '2026-08-14': 0.033805057046396796, '2026-09-14': 0.033803471436775645, '2026-10-14': 0.03358973839233928, '2026-11-14': 0.033556277156407965, '2026-12-14': 0.03356252779684928}
2025-04-15 13:36:49,198 - INFO - df_rates after fill (first 5 rows):
                rate
2025-04-01  0.043209
2025-04-02  0.043209
2025-04-03  0.043209
2025-04-04  0.043209
2025-04-05  0.043209
2025-04-15 13:36:49,199 - INFO - Monthly rates: {'2025-05-01': 0.04320930004119873, '2025-06-01': 0.04306955235332511, '2025-07-01': 0.041714447561282064, '2025-08-01': 0.04069665943470792, '2025-09-01': 0.039907263927771205, '2025-10-01': 0.03835318132535459, '2025-11-01': 0.03763408050147243, '2025-12-01': 0.036872452485452456, '2026-01-01': 0.03587289201933519, '2026-02-01': 0.035431291458526415, '2026-03-01': 0.035090954041039665, '2026-04-01': 0.03454827444296866, '2026-05-01': 0.033806003088985015, '2026-06-01': 0.033805057046396796, '2026-07-01': 0.03380347143677831, '2026-08-01': 0.03380664275516004, '2026-09-01': 0.033805057046396796, '2026-10-01': 0.033803471436775645, '2026-11-01': 0.03358973839233928, '2026-12-01': 0.033556277156407965}
2025-04-15 13:36:49,199 - INFO - Processing date 2025-05-01: SOFR rate = 0.04320930004119873
2025-04-15 13:36:49,199 - INFO - Calculated final rate for 2025-05-01: 0.06320930004119873
2025-04-15 13:36:49,199 - INFO - Processing date 2025-06-01: SOFR rate = 0.04306955235332511
2025-04-15 13:36:49,199 - INFO - Calculated final rate for 2025-06-01: 0.0630695523533251
2025-04-15 13:36:49,199 - INFO - Processing date 2025-07-01: SOFR rate = 0.041714447561282064
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2025-07-01: 0.06171444756128207
2025-04-15 13:36:49,200 - INFO - Processing date 2025-08-01: SOFR rate = 0.04069665943470792
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2025-08-01: 0.06069665943470792
2025-04-15 13:36:49,200 - INFO - Processing date 2025-09-01: SOFR rate = 0.039907263927771205
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2025-09-01: 0.05990726392777121
2025-04-15 13:36:49,200 - INFO - Processing date 2025-10-01: SOFR rate = 0.03835318132535459
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2025-10-01: 0.058353181325354594
2025-04-15 13:36:49,200 - INFO - Processing date 2025-11-01: SOFR rate = 0.03763408050147243
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2025-11-01: 0.05763408050147244
2025-04-15 13:36:49,200 - INFO - Processing date 2025-12-01: SOFR rate = 0.036872452485452456
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2025-12-01: 0.05687245248545246
2025-04-15 13:36:49,200 - INFO - Processing date 2026-01-01: SOFR rate = 0.03587289201933519
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-01-01: 0.055872892019335194
2025-04-15 13:36:49,200 - INFO - Processing date 2026-02-01: SOFR rate = 0.035431291458526415
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-02-01: 0.05543129145852642
2025-04-15 13:36:49,200 - INFO - Processing date 2026-03-01: SOFR rate = 0.035090954041039665
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-03-01: 0.05509095404103967
2025-04-15 13:36:49,200 - INFO - Processing date 2026-04-01: SOFR rate = 0.03454827444296866
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-04-01: 0.054548274442968656
2025-04-15 13:36:49,200 - INFO - Processing date 2026-05-01: SOFR rate = 0.033806003088985015
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-05-01: 0.05380600308898502
2025-04-15 13:36:49,200 - INFO - Processing date 2026-06-01: SOFR rate = 0.033805057046396796
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-06-01: 0.05380505704639679
2025-04-15 13:36:49,200 - INFO - Processing date 2026-07-01: SOFR rate = 0.03380347143677831
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-07-01: 0.05380347143677831
2025-04-15 13:36:49,200 - INFO - Processing date 2026-08-01: SOFR rate = 0.03380664275516004
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-08-01: 0.05380664275516005
2025-04-15 13:36:49,200 - INFO - Processing date 2026-09-01: SOFR rate = 0.033805057046396796
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-09-01: 0.05380505704639679
2025-04-15 13:36:49,200 - INFO - Processing date 2026-10-01: SOFR rate = 0.033803471436775645
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-10-01: 0.05380347143677565
2025-04-15 13:36:49,200 - INFO - Processing date 2026-11-01: SOFR rate = 0.03358973839233928
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-11-01: 0.053589738392339284
2025-04-15 13:36:49,200 - INFO - Processing date 2026-12-01: SOFR rate = 0.033556277156407965
2025-04-15 13:36:49,200 - INFO - Calculated final rate for 2026-12-01: 0.05355627715640797
2025-04-15 13:36:49,200 - INFO - Returning result: [{'date': '2025-05-01', 'rate': 0.06320930004119873}, {'date': '2025-06-01', 'rate': 0.0630695523533251}, {'date': '2025-07-01', 'rate': 0.06171444756128207}, {'date': '2025-08-01', 'rate': 0.06069665943470792}, {'date': '2025-09-01', 'rate': 0.05990726392777121}, {'date': '2025-10-01', 'rate': 0.058353181325354594}, {'date': '2025-11-01', 'rate': 0.05763408050147244}, {'date': '2025-12-01', 'rate': 0.05687245248545246}, {'date': '2026-01-01', 'rate': 0.055872892019335194}, {'date': '2026-02-01', 'rate': 0.05543129145852642}, {'date': '2026-03-01', 'rate': 0.05509095404103967}, {'date': '2026-04-01', 'rate': 0.054548274442968656}, {'date': '2026-05-01', 'rate': 0.05380600308898502}, {'date': '2026-06-01', 'rate': 0.05380505704639679}, {'date': '2026-07-01', 'rate': 0.05380347143677831}, {'date': '2026-08-01', 'rate': 0.05380664275516005}, {'date': '2026-09-01', 'rate': 0.05380505704639679}, {'date': '2026-10-01', 'rate': 0.05380347143677565}, {'date': '2026-11-01', 'rate': 0.053589738392339284}, {'date': '2026-12-01', 'rate': 0.05355627715640797}]
2025-04-15 13:36:50,268 - INFO - Received raw input: {'maturity_date': '2026-12-31', 'reference_rate': 'li', 'rate_floor': 0.02, 'rate_ceiling': 0.1, 'rate_spread': 0.02}
2025-04-15 13:36:50,268 - INFO - Validated loan details: maturity_date=datetime.date(2026, 12, 31) reference_rate='li' rate_floor=0.02 rate_ceiling=0.1 rate_spread=0.02
2025-04-15 13:36:50,268 - INFO - Today: 2025-04-15, Maturity date: 2026-12-31
2025-04-15 13:36:50,269 - INFO - Generated monthly dates: ['2025-05-01', '2025-06-01', '2025-07-01', '2025-08-01', '2025-09-01', '2025-10-01', '2025-11-01', '2025-12-01', '2026-01-01', '2026-02-01', '2026-03-01', '2026-04-01', '2026-05-01', '2026-06-01', '2026-07-01', '2026-08-01', '2026-09-01', '2026-10-01', '2026-11-01', '2026-12-01']
2025-04-15 13:36:50,269 - INFO - Fetching rates from 2025-04-01 to 2026-12-31
2025-04-15 13:36:50,269 - INFO - Fetching SOFR rates from 2025-04-01 to 2026-12-31
2025-04-15 13:36:50,269 - INFO - Database path: /Users/aryakkumar/Desktop/KKR/data/rates.db
2025-04-15 13:36:50,269 - INFO - Executing query: SELECT date, rate FROM sofr_rates WHERE date >= ? AND date <= ? with params (2025-04-01, 2026-12-31)
2025-04-15 13:36:50,270 - INFO - Query returned 21 rows
2025-04-15 13:36:50,270 - INFO - Rates dictionary: {'2025-04-14': 0.04320930004119873, '2025-05-14': 0.04306955235332511, '2025-06-14': 0.041714447561282064, '2025-07-14': 0.04069665943470792, '2025-08-14': 0.039907263927771205, '2025-09-14': 0.03835318132535459, '2025-10-14': 0.03763408050147243, '2025-11-14': 0.036872452485452456, '2025-12-14': 0.03587289201933519, '2026-01-14': 0.035431291458526415, '2026-02-14': 0.035090954041039665, '2026-03-14': 0.03454827444296866, '2026-04-14': 0.033806003088985015, '2026-05-14': 0.033805057046396796, '2026-06-14': 0.03380347143677831, '2026-07-14': 0.03380664275516004, '2026-08-14': 0.033805057046396796, '2026-09-14': 0.033803471436775645, '2026-10-14': 0.03358973839233928, '2026-11-14': 0.033556277156407965, '2026-12-14': 0.03356252779684928}
2025-04-15 13:36:50,273 - INFO - df_rates after fill (first 5 rows):
                rate
2025-04-01  0.043209
2025-04-02  0.043209
2025-04-03  0.043209
2025-04-04  0.043209
2025-04-05  0.043209
2025-04-15 13:36:50,273 - INFO - Monthly rates: {'2025-05-01': 0.04320930004119873, '2025-06-01': 0.04306955235332511, '2025-07-01': 0.041714447561282064, '2025-08-01': 0.04069665943470792, '2025-09-01': 0.039907263927771205, '2025-10-01': 0.03835318132535459, '2025-11-01': 0.03763408050147243, '2025-12-01': 0.036872452485452456, '2026-01-01': 0.03587289201933519, '2026-02-01': 0.035431291458526415, '2026-03-01': 0.035090954041039665, '2026-04-01': 0.03454827444296866, '2026-05-01': 0.033806003088985015, '2026-06-01': 0.033805057046396796, '2026-07-01': 0.03380347143677831, '2026-08-01': 0.03380664275516004, '2026-09-01': 0.033805057046396796, '2026-10-01': 0.033803471436775645, '2026-11-01': 0.03358973839233928, '2026-12-01': 0.033556277156407965}
2025-04-15 13:36:50,273 - INFO - Processing date 2025-05-01: SOFR rate = 0.04320930004119873
2025-04-15 13:36:50,273 - INFO - Calculated final rate for 2025-05-01: 0.06320930004119873
2025-04-15 13:36:50,273 - INFO - Processing date 2025-06-01: SOFR rate = 0.04306955235332511
2025-04-15 13:36:50,273 - INFO - Calculated final rate for 2025-06-01: 0.0630695523533251
2025-04-15 13:36:50,273 - INFO - Processing date 2025-07-01: SOFR rate = 0.041714447561282064
2025-04-15 13:36:50,273 - INFO - Calculated final rate for 2025-07-01: 0.06171444756128207
2025-04-15 13:36:50,273 - INFO - Processing date 2025-08-01: SOFR rate = 0.04069665943470792
2025-04-15 13:36:50,273 - INFO - Calculated final rate for 2025-08-01: 0.06069665943470792
2025-04-15 13:36:50,273 - INFO - Processing date 2025-09-01: SOFR rate = 0.039907263927771205
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2025-09-01: 0.05990726392777121
2025-04-15 13:36:50,274 - INFO - Processing date 2025-10-01: SOFR rate = 0.03835318132535459
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2025-10-01: 0.058353181325354594
2025-04-15 13:36:50,274 - INFO - Processing date 2025-11-01: SOFR rate = 0.03763408050147243
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2025-11-01: 0.05763408050147244
2025-04-15 13:36:50,274 - INFO - Processing date 2025-12-01: SOFR rate = 0.036872452485452456
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2025-12-01: 0.05687245248545246
2025-04-15 13:36:50,274 - INFO - Processing date 2026-01-01: SOFR rate = 0.03587289201933519
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-01-01: 0.055872892019335194
2025-04-15 13:36:50,274 - INFO - Processing date 2026-02-01: SOFR rate = 0.035431291458526415
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-02-01: 0.05543129145852642
2025-04-15 13:36:50,274 - INFO - Processing date 2026-03-01: SOFR rate = 0.035090954041039665
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-03-01: 0.05509095404103967
2025-04-15 13:36:50,274 - INFO - Processing date 2026-04-01: SOFR rate = 0.03454827444296866
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-04-01: 0.054548274442968656
2025-04-15 13:36:50,274 - INFO - Processing date 2026-05-01: SOFR rate = 0.033806003088985015
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-05-01: 0.05380600308898502
2025-04-15 13:36:50,274 - INFO - Processing date 2026-06-01: SOFR rate = 0.033805057046396796
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-06-01: 0.05380505704639679
2025-04-15 13:36:50,274 - INFO - Processing date 2026-07-01: SOFR rate = 0.03380347143677831
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-07-01: 0.05380347143677831
2025-04-15 13:36:50,274 - INFO - Processing date 2026-08-01: SOFR rate = 0.03380664275516004
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-08-01: 0.05380664275516005
2025-04-15 13:36:50,274 - INFO - Processing date 2026-09-01: SOFR rate = 0.033805057046396796
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-09-01: 0.05380505704639679
2025-04-15 13:36:50,274 - INFO - Processing date 2026-10-01: SOFR rate = 0.033803471436775645
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-10-01: 0.05380347143677565
2025-04-15 13:36:50,274 - INFO - Processing date 2026-11-01: SOFR rate = 0.03358973839233928
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-11-01: 0.053589738392339284
2025-04-15 13:36:50,274 - INFO - Processing date 2026-12-01: SOFR rate = 0.033556277156407965
2025-04-15 13:36:50,274 - INFO - Calculated final rate for 2026-12-01: 0.05355627715640797
2025-04-15 13:36:50,274 - INFO - Returning result: [{'date': '2025-05-01', 'rate': 0.06320930004119873}, {'date': '2025-06-01', 'rate': 0.0630695523533251}, {'date': '2025-07-01', 'rate': 0.06171444756128207}, {'date': '2025-08-01', 'rate': 0.06069665943470792}, {'date': '2025-09-01', 'rate': 0.05990726392777121}, {'date': '2025-10-01', 'rate': 0.058353181325354594}, {'date': '2025-11-01', 'rate': 0.05763408050147244}, {'date': '2025-12-01', 'rate': 0.05687245248545246}, {'date': '2026-01-01', 'rate': 0.055872892019335194}, {'date': '2026-02-01', 'rate': 0.05543129145852642}, {'date': '2026-03-01', 'rate': 0.05509095404103967}, {'date': '2026-04-01', 'rate': 0.054548274442968656}, {'date': '2026-05-01', 'rate': 0.05380600308898502}, {'date': '2026-06-01', 'rate': 0.05380505704639679}, {'date': '2026-07-01', 'rate': 0.05380347143677831}, {'date': '2026-08-01', 'rate': 0.05380664275516005}, {'date': '2026-09-01', 'rate': 0.05380505704639679}, {'date': '2026-10-01', 'rate': 0.05380347143677565}, {'date': '2026-11-01', 'rate': 0.053589738392339284}, {'date': '2026-12-01', 'rate': 0.05355627715640797}]
2025-04-15 13:37:35,869 - INFO - Received raw input: {'maturity_date': '2025-05-15', 'reference_rate': 'SOFR', 'rate_floor': 0.02, 'rate_ceiling': 0.1, 'rate_spread': 0.02}
2025-04-15 13:37:35,870 - INFO - Validated loan details: maturity_date=datetime.date(2025, 5, 15) reference_rate='SOFR' rate_floor=0.02 rate_ceiling=0.1 rate_spread=0.02
2025-04-15 13:37:35,871 - INFO - Today: 2025-04-15, Maturity date: 2025-05-15
2025-04-15 13:37:35,871 - INFO - Generated monthly dates: ['2025-05-01']
2025-04-15 13:37:35,871 - INFO - Fetching rates from 2025-04-01 to 2025-05-15
2025-04-15 13:37:35,871 - INFO - Fetching SOFR rates from 2025-04-01 to 2025-05-15
2025-04-15 13:37:35,871 - INFO - Database path: /Users/aryakkumar/Desktop/KKR/data/rates.db
2025-04-15 13:37:35,872 - INFO - Executing query: SELECT date, rate FROM sofr_rates WHERE date >= ? AND date <= ? with params (2025-04-01, 2025-05-15)
2025-04-15 13:37:35,872 - INFO - Query returned 2 rows
2025-04-15 13:37:35,872 - INFO - Rates dictionary: {'2025-04-14': 0.04320930004119873, '2025-05-14': 0.04306955235332511}
2025-04-15 13:37:35,875 - INFO - df_rates after fill (first 5 rows):
                rate
2025-04-01  0.043209
2025-04-02  0.043209
2025-04-03  0.043209
2025-04-04  0.043209
2025-04-05  0.043209
2025-04-15 13:37:35,875 - INFO - Monthly rates: {'2025-05-01': 0.04320930004119873}
2025-04-15 13:37:35,875 - INFO - Processing date 2025-05-01: SOFR rate = 0.04320930004119873
2025-04-15 13:37:35,875 - INFO - Calculated final rate for 2025-05-01: 0.06320930004119873
2025-04-15 13:37:35,875 - INFO - Returning result: [{'date': '2025-05-01', 'rate': 0.06320930004119873}]
